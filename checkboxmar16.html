<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>

</head>

<body>



    <p>Categories:</p>
    <label for="checkbxdef">Default</label>
    <input type="checkbox" id="checkbxdef" onClick="toggle(this)">
    <table border='1|1'>

        <th>
            <label for="checkbox1">Men:</label>
            <input type="checkbox" id="checkbox1" name="ALL" onchange="myFunction('checkbox1')">
        </th>
        <th>
            <label for="checkbox2">Women:</label>
            <input type="checkbox" id="checkbox2" name="ALL" onchange="myFunction('checkbox2')">
        </th>
        <th>
            <label for="checkbox3">Children:</label>
            <input type="checkbox" id="checkbox3" name="ALL" onchange="myFunction('checkbox3')">
        </th>
        </tr>
        <tr>
            <td>
                <ul id="list"></ul>
            </td>
            <td>
                <ul id="list1"></ul>
            </td>
            <td>
                <ul id="list2"></ul>
            </td>
        </tr>
    </table>
    <script>


        Men = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
        Women = [11, 12, 13, 14, 15, 16, 17, 18, 19, 20];
        Children = [21, 22, 23, 24, 25, 26, 27, 28, 29, 30];

        function Menfn() {

            for (i = 0; i < Men.length; i++)
                document.getElementById("list").innerHTML += "<td>" + "<li>" + Men[i] + "</li>" + "</td>";
        }
        function Womenfn() {

            for (i = 0; i < Women.length; i++)
                document.getElementById("list1").innerHTML += "<td>" + "<li>" + Women[i] + "</li>" + "</td>";
        }
        function Childrenfn() {

            for (i = 0; i < Children.length; i++)
                document.getElementById("list2").innerHTML += "<td>" + "<li>" + Children[i] + "</li>" + "</td>";
        }

        checkedFields = [];
        var elements = document.getElementsByTagName("label");
        function myFunction(id) {
            var chkbox = document.getElementById(id).checked;
            console.log(chkbox);
            for (var k = 0; k < elements.length; k++) {
                if (elements[k].htmlFor == id) {
                    var y = elements[k].innerText.split(':')[0];
                    if (y == "Men" && chkbox) {
                        checkedFields.push(y);
                        Menfn();
                    } else if (y == "Men" && !chkbox) {
                        document.getElementById("list").innerHTML = '';
                        var index = checkedFields.indexOf("Men");
                        checkedFields.splice(index, 1);
                        // overRide(checkedFields);
                    } else if (y == "Women" && chkbox) {
                        checkedFields.push(y);
                        Womenfn();
                    } else if (y == "Women" && !chkbox) {
                        document.getElementById("list1").innerHTML = '';
                        var index = checkedFields.indexOf("Women");
                        checkedFields.splice(index, 1);
                        // overRide(checkedFields);
                    } else if (y == "Children" && chkbox) {
                        checkedFields.push(y);
                        Childrenfn();

                    } else if (y == "Children" && !chkbox) {
                        document.getElementById("list2").innerHTML = '';
                        var index = checkedFields.indexOf("Children");
                        checkedFields.splice(index, 1);
                        // overRide(checkedFields);
                    } else {
                        Menfn();
                        Womenfn();
                        Childrenfn();
                    }
                }
            }
        }
        function overRide(checkedCategories) {
            checkedCategories.forEach(function (x) {
                if (x == 'Men') {
                    Menfn();
                }
                if (x == 'Women') {
                    Womenfn();
                }
                if (x == 'Children') {
                    Childrenfn();
                }
            })
        }


        function toggle(source) {
            checkboxes = document.getElementsByName('ALL');
            for (var i in checkboxes) {
                checkboxes[i].checked = source.checked;
                if (source.checked) {
                    Menfn();
                    Womenfn();
                    Childrenfn();

                } else if (checkboxes[i].checked) {
                    reversechk();
                }
                else {
                    document.getElementById("list").innerHTML = '';
                    document.getElementById("list1").innerHTML = '';
                    document.getElementById("list2").innerHTML = '';
                }
            }
        }
        // function reversechk() {
        //     var defchk = document.getElementById('checkbxdef').checked;
        //     console.log(defchk);
        //     var checkboxes = document.getElementsByTagName('input');
        //     console.log(checkboxes.checked)

        //     for (var i = 0; i < checkboxes.length; i++) {
        //         if (checkboxes[i].checked == true) {
        //             defchk=checkboxes[i].checked;
        //         }
        //     }
        // }



    </script>
</body>

</html>